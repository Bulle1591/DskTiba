{% load static %}
{% load widget_tweaks %}
<!-- Modal -->
<div class="modal fade" id="addEmployeeModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog" style="max-width: 1550px;" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title text-muted" id="modalFullTitle">Create New Employee</h4>
        <button type="button" class="btn-close"  data-close-action="close"></button>
      </div>
      <div class="modal-body">
      <form id="employeeForm" method="post" action="{% url 'hr_app:employee' %}" enctype="multipart/form-data" autocomplete="off" novalidate="novalidate">
        {% csrf_token %}
        <div class="card card-block card-stretch card-height" style="min-height: 330px;">
            <nav class="tab-bottom-bordered">
                <div class="mb-0 nav nav-tabs justify-content-around" id="nav-tab1" role="tablist">
                    <button class="nav-link nav-link-home py-3 active" id="nav-home-11-tab" data-bs-toggle="tab" data-bs-target="#nav-home-11" type="button" role="tab" aria-controls="nav-home-11" aria-selected="false" tabindex="-1" disabled>Personal Details</button>
                    <button class="nav-link nav-link-profile py-3" id="nav-profile-11-tab" data-bs-toggle="tab" data-bs-target="#nav-profile-11" type="button" role="tab" aria-controls="nav-profile-11" aria-selected="false" tabindex="-1" disabled>Documents</button>
                    <button class="nav-link nav-link-contact py-3" id="nav-contact-11-tab" data-bs-toggle="tab" data-bs-target="#nav-contact-11" type="button" role="tab" aria-controls="nav-contact-11" aria-selected="true" disabled>Login Details</button>
                </div>
            </nav>
            <div class="tab-content iq-tab-fade-up" id="nav-tabContent" >
                <div class="tab-pane fade tab-home active show" id="nav-home-11" role="tabpanel" aria-labelledby="nav-home-11-tab">
                    <!-- User Authentication Section -->
                        <input type="hidden" name="emp_number" id="id_emp_number" value="{{ emp_number }}">
                        <div class="row mt-3">
                              <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Title: <span class="tx-danger">*</span></label>
                                  {% render_field employee_form.salutation class="select2-basic-single" style="width: 100%;" %}
                              </div>
                              <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">First Name: <span class="tx-danger">*</span></label>
                                  {% render_field user_form.first_name placeholder="Enter First Name" %}
                              </div>
                              <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Last Name: <span class="tx-danger">*</span></label>
                                  {% render_field user_form.last_name  placeholder="Enter Last Name" %}
                              </div>
                              <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Gender: <span class="tx-danger">*</span></label>
                                  {% render_field employee_form.gender class="select2-basic-single" style="width: 100%;" %}
                              </div>
                              <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Date Of Birth: <span class="tx-danger">*</span></label>
                                  {% render_field employee_form.date_of_birth id="Date Of Birth" %}
                              </div>

                            <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Qualification: <span class="tx-danger">*</span></label>
                                  {% render_field employee_form.qualification placeholder="Enter Qualification" %}
                            </div>
                            <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Reg Number: <span class="tx-danger">*</span></label>
                                  {% render_field employee_form.licence_number placeholder="Enter Reg Number" %}
                            </div>
                            <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Designation: <span class="tx-danger">*</span></label>
                                  {% render_field employee_form.designation class="select2-basic-single" style="width: 100%;" %}
                              </div>
                            <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Department: <span class="tx-danger">*</span></label>
                                  {% render_field employee_form.department class="select2-basic-single" style="width: 100%;" %}
                            </div>
                            <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Sub Department: <span class="tx-danger">*</span></label>
                                  {% render_field employee_form.sub_department class="select2-basic-single" style="width: 100%;" %}
                            </div>
                            <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Contract: <span class="tx-danger">*</span></label>
                                  {% render_field employee_form.job_type class="select2-basic-single" style="width: 100%;" %}
                            </div>
                             <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Date Joined: <span class="tx-danger">*</span></label>
                                  {% render_field employee_form.date_joined %}
                            </div>
                             <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">National ID: <span class="tx-danger">*</span></label>
                                  {% render_field employee_form.national_id %}
                            </div>
                             <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Address: <span class="tx-danger">*</span></label>
                                  {% render_field contact_form.address %}
                            </div>
                             <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Phone Number: <span class="tx-danger">*</span></label>
                                  {% render_field contact_form.phone_number  %}
                            </div>
                            <div class="col-md-3 mb-2 fv-row">
                                  <label class="form-label">Image: <span class="tx-danger">*</span></label>
                                  {% render_field photo_form.image  %}
                                    <small class="form-text text-muted">Supported image formats: JPG, JPEG, PNG, GIF</small>
                            </div>
                        </div>
                </div>
                <div class="tab-pane tab-profile fade" id="nav-profile-11" role="tabpanel" aria-labelledby="nav-profile-11-tab">
                 <table class="mt-3">
                    <thead>
                        <tr>
                            <th>Document Type:</th>
                            <th>File: <small class="form-text text-muted">Supported formats: PDF, DOC, DOCX</small></th>
                            <th>Action:</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{ document_formset.management_form }}
                        {% for form in document_formset %}
                            <tr class="document-row">
                                <td>
                                    {% render_field form.document_type %}
                                    <small class="form-text text-muted"></small>
                                </td>
                                <td>
                                    {% render_field form.file %}
                                </td>
                                <td>
                                    <button type="button" class="btn btn-100 btn-soft-primary custom-form-action-button remove-form me-3" data-cancel-action="cancel">Remove</button>
                                    <small class="form-text text-muted"></small>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
                </div>
                <div class="tab-pane tab-contact fade" id="nav-contact-11" role="tabpanel" aria-labelledby="nav-contact-11-tab">
                    <div class="row mt-3">
                              <div class="col-lg-4 fv-row">
                                  <label class="form-label">Email: <span class="tx-danger">*</span></label>
                                  {% render_field user_form.email class="form-control form-control-solid"%}
                              </div>
                              <div class="col-lg-4 fv-row">
                                  <label class="form-label">Password: <span class="tx-danger">*</span></label>
                                  {% render_field user_form.password class="form-control form-control-solid" %}
                              </div>
                              <div class="col-lg-4">
                                  <label class="form-label">Role: <span class="tx-danger">*</span></label>
                                  {% render_field user_form.role class="select2-basic-single" style="width: 100%;"%}
                              </div>
                              <div class="col-lg-2">
                                  <label class="form-label">Is Staff: <span class="tx-danger">*</span></label><br>
                                  {% render_field user_form.is_staff %}
                              </div>
                              <div class="col-lg-2">
                                  <label class="form-label">Is Active: <span class="tx-danger">*</span></label><br>
                                  {% render_field user_form.is_active %}
                              </div>
                            </div>
                </div>
            </div>
        </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-sm btn-100 btn-soft-light custom-form-action-button me-3" data-previous-action="next">Previous</button>
              <button type="button" class="btn btn-sm btn-100 btn-soft-primary custom-form-action-button me-3" data-next-action="next">Next</button>
              <button type="submit" class="btn btn-sm btn-100 btn-primary custom-form-action-button" data-submit-action="submit">
                    <span class="indicator-label">Submit</span>
                    <span class="indicator-progress">Please wait...
                    <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
              </button>
            </div>
      </form>
      </div>
  </div>
</div>
</div>